@model init.Models.SiteUser

@{
    ViewBag.title = "Sign Up";
}

<head>
    <link href="~/css/Home_aid.css" rel="stylesheet" />
</head>


<form id="registerform">
    <section class="vh-100 gradient-custom">
        <div class="container py-5 h-50">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                    <div class="card bg-dark text-white" style="border-radius: 1rem;">
                        <div class="card-body p-5 text-center">

                            <div class="mb-md-5 mt-md-4 pb-5">

                                <h2 class="fw-bold mb-2 text-uppercase">Kayıt Ol</h2>

                                <div class="form-outline form-white mb-4">
                                    <label class="form-label" for="typeEmailX">Kullanıcı Adı</label>
                                    @Html.TextBoxFor(m => m.USERNAME, new { @class = "form-control", @placeholder = "Username" })
                                </div>

                                <div class="form-outline form-white mb-4">
                                    <label class="form-label" for="typePasswordX">Şifre</label>
                                    @Html.PasswordFor(m => m.PASSWORD, new { @class = "form-control", @placeholder = "Password" })
                                </div>

                                <div class="form-outline form-white mb-4">
                                    <label class="form-label" for="typePasswordX">Email</label>
                                    @Html.TextBoxFor(m => m.EMAIL, new { @class = "form-control", @placeholder = "Email" })
                                </div>

                                <div class="form-outline form-white mb-4">
                                    <label class="form-label" for="typePasswordX">Ülke</label>
                                    @Html.TextBoxFor(m => m.COUNTRY, new { @class = "form-control", @placeholder = "Country" })
                                </div>


                                <a class="btn btn-outline-light btn-lg px-5" onclick="RegisterUser()" type="submit">Kayıt Ol</a>

                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</form>




<script>

    var RegisterUser = function () {
        var data = $("#registerform").serialize();

        $.ajax({
            type: "Post",
            url: "/Home/Registration",
            data: data,
            success: function (response) {

                if (response == "success") {
                    alert("Success")
                    window.location.href = "/Home/Login"
                }
                else if(response == "alreadyregistered"){
                    alert("This username already registered")
                    window.location.href = "/Home/Registration"
                }
                else{
                    alert("try again")
                    window.location.href = "/Home/Registration"
                }
            }

        })

    }

</script>